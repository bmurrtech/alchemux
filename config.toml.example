# =============================================================================
# Alchemux config.toml (non-secret defaults & UX)
# =============================================================================

[product]
# If true, show arcane terminology + "transmute" command naming in help/output.
arcane_terms = true

[ui]
# Default UX preferences (flags can override for a single run)
auto_open = true
plain = false          # if true, disables colors/animations by default
animations = true      # optional future key
colors = true          # optional future key

[logging]
# Defaults (CLI flags override per-run)
debug = false

[eula]
# EULA acceptance state (set to true to accept non-interactively)
accepted = false
accepted_at = ""       # ISO8601 string (auto-set on acceptance)
acceptance_hash = ""   # Acceptance verification hash (auto-set on acceptance)

[paths]
# Filesystem paths
output_dir = "./downloads"  # Where downloaded files are saved locally
temp_dir = "./tmp"          # Staging directory for processing

[media.audio]
# Defaults for "do the work" commands (CLI: --format overrides per-run)
format = "mp3"         # mp3|flac|wav|aac|m4a (primary output format)
quality = "192k"       # bitrate or VBR quality
sample_rate = 0        # 0 = source/default; else explicit Hz
channels = 0           # 0 = source/default; else 1/2/...
# When multiple enabled, all are produced (setup wizard populates from checkbox)
enabled_formats = ["mp3"]

[media.video]
# Empty format = audio-only. Set via setup "Save video file, too?" and codec choice.
format = ""            # mp4|mkv|webm (primary; empty = no video)
codec = ""             # h264|hevc|...
restrict_filenames = true
# When multiple enabled, all are produced (setup wizard populates from checkbox)
enabled_formats = []

[presets.flac]
# Canonical key for your human-friendly toggle
override = false       # true => apply your "FLAC 16kHz mono" preset behavior
sample_rate = 16000
channels = 1

[network]
retries = 3

[download]
# Save .info.json metadata files next to each output (adds capture + load time; enable manually if needed)
write_info_json = false

# Optional yt-dlp options to reduce 403/Forbidden (e.g. googlevideo CDN). Env: YTDL_IMPERSONATE, YTDL_COOKIES_FROM_BROWSER, YTDL_FORCE_IPV4, YTDL_AUDIO_FORMAT_SELECTOR.
# [ytdl]
# audio_format_selector = "best"  # default: download combined format then extract audio (reduces YouTube 403); use "ba" for best audio-only
# impersonate = "chrome"           # --impersonate chrome; may help with blocked requests
# cookies_from_browser = "chrome"  # --cookies-from-browser chrome; use browser session
# force_ipv4 = true                # --force-ipv4; try if video fails with 403 (IPv6 path issues)

[storage]
# Storage destination and policy
destination = "local"        # local|s3|gcp (default storage destination)
fallback = "local"          # local|s3|gcp|error (fallback if destination unavailable)
keep_local_copy = true      # If true, keep local copy after cloud upload

# Note: [storage.s3] and [storage.gcp] sections are only written when configured
# Providers are considered "configured" if they have required keys + credentials in .env

# Example [storage.s3] (only written when S3 is configured):
# endpoint = "https://your-minio.example.com"  # optional if inferrable
# bucket = "your-bucket-name"
# ssl = true

# Example [storage.gcp] (only written when GCP is configured):
# bucket = "your-bucket-name"

# Note: Auth-related configuration (cookies, OAuth) is stored in .env for security.
# See env.example for auth configuration options.
